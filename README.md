# HMMDecomposeDecision
-- To be elaborated --  
  
Quick start:
	- This program requires FastTree and HMMER (hmmbuild and hmmsearch) to be installed and on PATH. If you haven't had them installed, follow the instructions from the repective programs and install them first.  
	- It is recommended that HMMER is built from source since we have to modify its source code slightly. A copy of FastTree.c, its binary file (the version tested with during development) and the modified source file in HMMER are available in the `tools` folder.  
	- Copy the file `hmmsearch.c` from the `tools` folder and replace that in the `src` folder of HMMER 3.1b2 distribution. (using the command `diff` in a UNIX machine if you are interested in the modification made, but basically instead of using HMMER's search pipeline, we direct the sequence through a naive Viterbi algorithm and report back the score).  
	- Rebuild HMMER using the commands from page 13 of `http://eddylab.org/software/hmmer3/3.1b2/Userguide.pdf` (namely `./configure; make; make check; make install`).  
	- Download the program from GitHub (or use `git clone`).  
	- Go into the folder containing the program.  
	- The program comes with a Makefile that uses GCC to compile C source codes. Only the source codes are distributed. Make sure you have gcc and make installed on the machine.  
	- Run `make clean` then `make`. If you modify the source code, you can recompile with `make clean` and `make`.  
	- The binary is called `decide`. Make sure it is on your PATH (put the binary into some bin folder and add that folder to your PATH variable)  
	- Go to any folder of your choice and type `decide -i <path_to_input_sequences>`. Currently, this is the only supported option.  
	- Let the program runs to completion. The output will be printed onto the screen together with any error message.  
	- Running another instance would overwrite any output file so make sure you save your work starting a new run (or run from a different folder).  
	- It is recommended that you start in an empty folder that is meant to store the outputs of the program.  
  
Output files:  
	- The program keeps all of its temporary file, including:  
		- A hmm (generated by hmmbuild) for the single model  
			- defaultjob.single_hmm  
		- 2 msa's generated by centroid decomposition of the FastTree output tree on the original sequences  
			- defaultjob.double_first_msa, defaultjob.double_second_msa  
		- 2 hmm's generated by hmmbuild for double model  
			- defaultjob.double_first_hmm, defaultjob.double_second_hmm  
		- Output of hmmsearch   
			- defaultjob.single_search_out, defaultjob.double_first_search_out, defaultjob.double_second_search_out
 		- stdout for hmmbuild and hmmsearch
		- The FastTree output  
